---
title: Spring 어노테이션, 컨트롤러 개념
date: 2022-08-01 12:00:00 +0900
categories: [개념, Spring]
tags: []
---

## Spring - @Autowired

> 자동으로 객체를 만들어준다.
> 

```java
@Autowired
private Chef chef;
```

## Spring - @Component

> 스프링이 객체를 관리하게 하는 어노테이션이다.
> 

```java
@Component
public class SampleHotel {
	private final Chef chef;

	@Autowired
	public SampleHotel(Chef chef) {
		this.chef = chef;
	}
}

```

이 어노테이션을 사용하기 위해서는 root-context.xml에 Bean을 등록해주어야 한다.  

---

```xml
<context:component-scan base-package="클래스 이름이 여기 들어감."></context:component-scan>
```

그리고 root-context.xml의 아래쪽 NameSpaces탭에서 ‘context’ 항목을 체크한다.

## Spring - 세팅하는법

---

1. 프로젝트 생성(스프링 레거시 프로젝트)
    1. Spring Legacy Project(Spring MVC Project)
2. 서버 포트번호 설정
    1. 서버탭 - 톰캣설정창(더블클릭) 
        1. Overview - 포트번호 변경
        2. Modules - path ‘/’로 수정
3. 버전 변경하기
    1. pom.xml
        1. <java-version></java-version>
            1. 1.6 → 11
        2. <org.springframework-version></org.springframework-version>
            1. 3.1.1 RELEASE → 5.0.7 RELEASE
        3. junit 버전 변경
            1. 버전 4.12로 변경
                
                ```xml
                <dependency>
                			<groupId>junit</groupId>
                			<artifactId>junit</artifactId>
                			<version>4.12</version>
                			<scope>test</scope>
                </dependency>
                ```
                
        4. log4j 버전 변경
            1. 버전 1.2.17로 변경
                
                ```xml
                <dependency>
                			<groupId>log4j</groupId>
                			<artifactId>log4j</artifactId>
                			<version>1.2.17</version>
                </dependency>
                ```
                
        5. Maven 플러그인 버전 수정
            1. <source></source>, <target></target> 11로 수정
            
            ```xml
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-compiler-plugin</artifactId>
                <version>2.5.1</version>
                <configuration>
                    <source>11</source>
                    <target>11</target>
                    <compilerArgument>-Xlint:all</compilerArgument>
                    <showWarnings>true</showWarnings>
                    <showDeprecation>true</showDeprecation>
                </configuration>
            </plugin>
            ```
            

## Spring - 컨트롤러 사용하기

> 여러요청이 들어올때 한 객체에서 처리하기 위한것이다.
서블릿의 역할을 대신한다.
@controller 어노테이션
@RequestMapping 어노테이션 : 해당 요청을 처리할 주소값이 들어간다.
> 
- 메소드별로 요청처리하기

> 어노테이션의 주소값을 다르게한다.
넘어오는 파라미터와 메소드의 매개변수의 이름이 다를때 “@RequestParam” 어노테이션을 사용한다.
> 

<aside>
메소드의 어노테이션의 값 주소로 들어온 요청이 이 메소드가 처리한다.
클래스에 @RequestMapping 어노테이션이 붙어있으면 그 주소로 들어온 모든 요청을 해당 클래스가 처리한다.

</aside>

```java
@RequestMapping("/ex01")
	public String ex01(SampleDTO dto) {
		log.info("" + dto);
		return "ex01";
	}
	
	@RequestMapping("/ex02")
	public String ex02(@RequestParam("str")String name, @RequestParam("num")int age) {
		log.info("name : " + name);
		log.info("age :" + age);
		
		return "ex02";
	}
```

객체를 매개변수로 설정할 경우 해당 메소드가 리턴하는 페이지에 자동으로 그 객체가 넘어가게 된다.


```html
<body>
	${sampleDTO.getXXX()} <!--값을 받아올때는 클래스 첫 알파벳을 소문자로 해야함.-->
</body>
```

- 여러 파라미터를 배열과 리스트로 처리하기

> 같은 이름으로 여러개의 데이터가 넘어오는 경우에는 리스트나 배열타입으로 파라미터들을 받을 수 있다.
> 

```java
@RequestMapping("/ex02List")
	public String ex02List(@RequestParam("ids")ArrayList<String> ids) {
		log.info("ids : " + ids);
		
		return "ex02List";
	}
	
	@RequestMapping("/ex02Array")
	public String ex02Array(@RequestParam("ids")String[] ids) {
		log.info("ids : " + Arrays.toString(ids));
		
		return "ex02List";
	}
```
